{% extends "base.html" %} 
{% block title %}Applications for {{ job.title }}{% endblock %} 

{% block content %} 
<div class="max-w-6xl mx-auto py-10"> 
  <h1 class="text-2xl font-bold mb-2 text-slate-800"> 
    Applications – {{ job.title }} ({{ job.company }}) 
  </h1> 
  <p class="text-sm text-slate-600 mb-6"> 
    {{ applications|length }} application{% if applications|length != 1 %}s{% endif %} 
  </p> 

  {% if applications %} 
    <div class="bg-white shadow-md rounded-lg overflow-hidden border border-slate-200"> 
      <table class="w-full text-left text-sm"> 
        <thead class="bg-slate-50 border-b border-slate-200"> 
          <tr> 
            <th class="px-4 py-3">Candidate</th> 
            <th class="px-4 py-3">Qualification</th> 
            <th class="px-4 py-3">Experience</th> 
            <th class="px-4 py-3">Applied On</th> 
            <th class="px-4 py-3">Resume</th> 
            <th class="px-4 py-3">Cover Letter</th> 
            <th class="px-4 py-3">Status</th> 
          </tr> 
        </thead> 
        <tbody class="divide-y divide-slate-100"> 
          {% for app in applications %} 
          <tr> 
            <td class="px-4 py-3 font-medium text-slate-900"> 
              {{ app.user.username }} 
            </td> 
            <td class="px-4 py-3 text-slate-700"> 
              {{ app.qualification|default:"—" }} 
            </td> 
            <td class="px-4 py-3 text-slate-700"> 
              {{ app.experience|default:"—" }} 
            </td> 
            <td class="px-4 py-3 text-slate-600"> 
              {{ app.applied_at|date:"M d, Y H:i" }} 
            </td> 
            <td class="px-4 py-3"> 
              {% if app.resume %} 
                <a href="{{ app.resume.url }}" class="text-blue-600 hover:underline" target="_blank"> 
                  Download 
                </a> 
              {% else %} 
                <span class="text-slate-400">No file</span> 
              {% endif %} 
            </td> 
            <td class="px-4 py-3"> 
              {% if app.cover_letter %} 
                <details class="text-xs text-slate-700 max-w-xs"> 
                  <summary class="cursor-pointer text-blue-600">View</summary> 
                  <div class="mt-1 whitespace-pre-line">{{ app.cover_letter }}</div> 
                </details> 
              {% else %} 
                <span class="text-slate-400">N/A</span> 
              {% endif %} 
            </td> 
            <td class="px-4 py-3"> 
              <form method="post" class="inline-flex items-center gap-2"> 
                {% csrf_token %} 
                <input type="hidden" name="application_id" value="{{ app.id }}"> 
                <select name="status" class="border rounded px-2 py-1 text-xs"> 
                  {% for value,label in STATUS_CHOICES %} 
                    <option value="{{ value }}" {% if app.status == value %}selected{% endif %}> 
                      {{ label }} 
                    </option> 
                  {% endfor %} 
                </select> 
                <button class="px-2 py-1 text-xs rounded bg-slate-800 text-white"> 
                  Update 
                </button> 
              </form> 
            </td> 
          </tr> 
          {% endfor %} 
        </tbody> 
      </table> 
    </div> 
  {% else %} 
    <p class="text-slate-600">No applications yet for this job.</p> 
  {% endif %} 
</div> 
{% endblock %}